{% extends 'hv/layout.xml' %}

{% block header %}
    <text style="header-button">
        <behavior trigger="press" action="new" href="/contacts/new" />
        Add
    </text>
{% endblock %}

{% block content %}
    <form>
        <behavior
            trigger="on-event"
            event-name="contact-updated"
            action="replace-inner"
            target="contacts-list"
            href="/contacts?rows_only=true"
            verb="get"
        />

        <text-field name="q" value="" placeholder="Search..." style="search-field">
            <behavior
                trigger="change"
                action="replace-inner"
                target="contacts-list"
                href="/contacts?rows_only=true"
                verb="get"
            />
        </text-field>
        <list id="contacts-list"
            trigger="refresh"
            action="replace-inner"
            target="contacts-list"
            href="/contacts?rows_only=true"
            verb="get"
        >
            {% include 'hv/rows.xml' %}
        </list>
    </form>
{% endblock %}
